(function(t){function e(e){for(var s,n,c=e[0],o=e[1],l=e[2],u=0,p=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],s=!0,c=1;c<r.length;c++){var o=r[c];0!==i[o]&&(s=!1)}s&&(a.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},i={app:0},a=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=o;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("85ec"),i=r.n(s);i.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"app"}},[r("GlobalNotification"),r("router-view")],1)},a=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center"},[r("v-snackbar",{attrs:{top:"",color:t.message.color,timeout:t.message.timeout},model:{value:t.message.active,callback:function(e){t.$set(t.message,"active",e)},expression:"message.active"}},[r("v-spacer"),t._v(" "+t._s(t.message.text)+" "),r("v-spacer")],1)],1)},c=[],o=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),l=r("2f62");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={name:"GlobalNotification",computed:u({},Object(l["d"])(["message"]))},v=p,f=r("2877"),h=Object(f["a"])(v,n,c,!1,null,null,null),m=h.exports,b={components:{GlobalNotification:m},beforeCreate:function(){"cleared"!==localStorage.status&&(localStorage.clear(),localStorage.status="cleared",this.$router.go())},created:function(){this.$vuetify.theme.dark=!1}},g=b,y=(r("034f"),Object(f["a"])(g,i,a,!1,null,null,null)),j=y.exports,w=r("9483");Object(w["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var O=r("8c4f"),x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("Toolbar"),r("v-content",[r("SubjectCard")],1)],1)},_=[],S=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex"},[r("v-navigation-drawer",{attrs:{dark:"",app:"",overflow:"",color:"primary"},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}},[r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"font-weight-light",staticStyle:{"font-size":"1.5rem"}},[t._v(" napoly ")]),r("v-list-item-subtitle",{staticClass:"font-weight-light"},[t._v(" Student Document Repository ")]),r("v-divider",{staticClass:"my-3"}),r("v-list-item-action-text",[t._v(" Created by Marco Trentini ")])],1)],1),t.signedIn?r("v-list-item-group",[r("v-divider"),r("v-list-item",{staticStyle:{background:"#2d98da"},attrs:{dense:"",to:"/admin"}},[r("v-list-item-title",[t._v(t._s(t.username))])],1)],1):t._e(),r("v-divider"),r("YearList"),r("v-divider"),r("FieldList"),r("v-divider"),r("SemesterList"),r("v-divider"),r("SubjectList"),r("v-list-item-group",{staticClass:"hidden-xs-only",staticStyle:{position:"absolute",bottom:"0",width:"100%"}},[r("v-divider"),r("v-list-item",{attrs:{"two-line":"",to:"/about"}},[r("v-list-item-icon",[r("v-icon",{staticClass:"pt-5 pl-2"},[t._v("mdi-face")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("About")]),r("v-list-item-subtitle",[t._v("Who is behind Napoly")])],1)],1)],1),r("v-list-item-group",{staticClass:"hidden-sm-and-up"},[r("v-list-item",{attrs:{"two-line":"",to:"/about"}},[r("v-list-item-icon",[r("v-icon",{staticClass:"pt-5 pl-2"},[t._v("mdi-face")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("About")]),r("v-list-item-subtitle",[t._v("Who is behind Napoly")])],1)],1)],1)],1)],1),r("v-app-bar",{attrs:{app:"",flat:"",dense:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.showDrawer=!t.showDrawer}}}),r("v-spacer"),t.showDrawer?t._e():r("v-toolbar-title",{staticClass:"primary--text font-weight-light"},[t._v("napoly.ch")])],1)],1)},k=[],C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",[r("v-subheader",{staticClass:"font-weight-light",staticStyle:{cursor:"pointer"},on:{click:t.changeSemester}},[t._v(t._s(t.currentSemesterName?t.currentSemesterName:"Semester wählen")+" "),r("v-spacer"),r("v-icon",{attrs:{small:""},on:{click:t.changeSemester}},[t._v(t._s(t.changingSemester?"mdi-chevron-up":"mdi-chevron-down"))])],1),t.changingSemester?r("v-list-item-group",t._l(t.semesters.data,(function(e){return r("v-list-item",{key:e.id,on:{click:function(r){return t.setCurrentSemester(e.id)}}},[t._v(" "+t._s(1===e.semesterHalf?"FS ":"HS ")+t._s(e.semesterYear)+" ")])})),1):t._e()],1)},P=[];function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E={name:"SemesterList",created:function(){this.getSemesters()},computed:D({},Object(l["d"])("napolyApiModule",["semesters","currentSemesterId","currentSemesterName","changingSemester"])),methods:D({},Object(l["b"])("napolyApiModule",["getSemesters","setCurrentSemester"]),{changeSemester:function(){this.$store.state.napolyApiModule.changingSemester=!this.changingSemester}})},L=E,A=Object(f["a"])(L,C,P,!1,null,"74861c98",null),M=A.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.subjects.length?r("v-list",[r("v-subheader",{staticClass:"font-weight-light"},[t._v("Subjects")]),r("v-list-item-group",t._l(t.subjects,(function(e){return r("v-list-item",{key:e.id,staticClass:"font-weight-light white--text",attrs:{href:"#"+e.subjectName}},[t._v(" "+t._s(e.subjectName)+" ")])})),1),r("v-divider")],1):t._e()},F=[];function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function B(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $={name:"SubjectList",created:function(){this.getSubjects()},computed:B({},Object(l["d"])("napolyApiModule",["subjects","currentSubjectId","currentSemesterId"])),methods:B({},Object(l["b"])("napolyApiModule",["getSubjects"]))},N=$,W=Object(f["a"])(N,T,F,!1,null,"62f51cb5",null),V=W.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",[r("v-subheader",{staticClass:"font-weight-light",staticStyle:{cursor:"pointer"},on:{click:t.changeField}},[t._v(t._s(t.currentFieldName?t.currentFieldName:"Departement wählen")+" "),r("v-spacer"),r("v-icon",{attrs:{small:""},on:{click:t.changeField}},[t._v(t._s(t.changingField?"mdi-chevron-up":"mdi-chevron-down"))])],1),t.changingField?r("v-list-item-group",t._l(t.fields.data,(function(e){return r("v-list-item",{key:e.id,on:{click:function(r){return t.setCurrentField(e.id)}}},[t._v(t._s(e.fieldName))])})),1):t._e()],1)},Y=[];function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var z={name:"FieldList",created:function(){this.getFields()},computed:J({},Object(l["d"])("napolyApiModule",["fields","currentFieldId","currentFieldName","changingField"])),methods:J({},Object(l["b"])("napolyApiModule",["getFields","setCurrentField"]),{changeField:function(){this.$store.state.napolyApiModule.changingField=!this.changingField}})},H=z,G=Object(f["a"])(H,R,Y,!1,null,null,null),q=G.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",[t.currentYear?r("v-subheader",{staticClass:"font-weight-light",staticStyle:{cursor:"pointer"},on:{click:t.changeYear}},[t._v(t._s(t.currentYear)+". Studienjahr "),r("v-spacer"),r("v-icon",{attrs:{small:""}},[t._v(t._s(t.changingYear?"mdi-chevron-up":"mdi-chevron-down"))])],1):r("v-subheader",{staticStyle:{cursor:"pointer"},on:{click:t.changeYear}},[t._v("Studienjahr wählen "),r("v-spacer"),r("v-icon",{attrs:{small:""}},[t._v(t._s(t.changingYear?"mdi-chevron-up":"mdi-chevron-down"))])],1),t.changingYear?r("v-list-item-group",t._l(t.years,(function(e){return r("v-list-item",{key:e.id,staticClass:"font-weight-light",on:{click:function(r){return t.setCurrentYear(e)}}},[t._v(t._s(e)+". Studienjahr ")])})),1):t._e()],1)},Q=[];function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var et={name:"YearList",data:function(){return{years:[1,2,3]}},computed:tt({},Object(l["d"])("napolyApiModule",["currentYear","changingYear"])),methods:tt({},Object(l["b"])("napolyApiModule",["setCurrentYear"]),{changeYear:function(){this.$store.state.napolyApiModule.changingYear=!this.changingYear}})},rt=et,st=Object(f["a"])(rt,X,Q,!1,null,"f51874da",null),it=st.exports;function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var ct={name:"Toolbar",components:{YearList:it,FieldList:q,SubjectList:V,SemesterList:M},created:function(){localStorage.username&&(this.username=localStorage.username)},data:function(){return{showDrawer:!0}},computed:nt({},Object(l["d"])(["signedIn"]))},ot=ct,lt=Object(f["a"])(ot,S,k,!1,null,null,null),dt=lt.exports,ut=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[t.currentFieldId&&t.currentSemesterId&&t.currentYear?r("div",[t.noresult?r("v-card",{staticClass:"mt-12 grey--text",attrs:{flat:""}},[r("v-card-title",{staticStyle:{"font-family":"Open Sans"}},[r("v-spacer"),t._v(" In diesem Semester existieren noch keine Links! "),r("v-spacer")],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"mx-2",attrs:{outlined:"",color:"primary",href:"mailto:marcotr@ethz.ch"}},[t._v("Schreib uns eine Mail")]),t._v(" falls du die Unterlagen dieses Semesters verwalten willst!"),r("v-spacer")],1)],1):t._e(),r("v-container",{staticClass:"fill-height",staticStyle:{height:"90vh",width:"110vw"}},[r("v-row",[r("v-col",{staticClass:"font-weight-light primary--text pb-0 text-center",staticStyle:{"font-size":"2.75rem"},attrs:{cols:"12"}},[t._v(" napoly.ch ")]),r("v-col",{staticClass:"font-weight-thin primary--text pt-0 text-center",staticStyle:{"font-size":"1.25rem","font-family":"Open Sans"},attrs:{cols:"12"}},[t._v(" Student Document Repository ")])],1)],1),t.loading?r("div",t._l(4,(function(t){return r("v-card",{key:t,staticClass:"my-2"},[r("v-skeleton-loader",{staticClass:"mx-auto my-5",attrs:{"max-width":"300",type:"card"}})],1)})),1):t._l(t.subjects,(function(e){return r("v-container",{key:e.id,staticClass:"pt-12",attrs:{id:e.subjectName}},[r("v-card",{attrs:{elevation:"2"}},[r("v-card-title",{staticClass:"primary--text font-weight-light",staticStyle:{"font-size":"1.75rem","font-family":"'Open Sans'"}},[t.authenticate(e)&&t.editMode!==e.id?r("v-btn",{staticClass:"mr-4",attrs:{tile:"",outlined:"",color:"info",small:""},on:{click:function(r){t.editMode=e.id}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e(),t.authenticate(e)&&t.editMode===e.id?r("v-btn",{staticClass:"mr-4",attrs:{tile:"",outlined:"",color:"error",small:""},on:{click:function(e){t.editMode=null}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-pencil-off")])],1):t._e(),t._v(" "+t._s(e.subjectName)+" "),r("v-spacer"),r("SubjectButtons",{staticClass:"hidden-sm-and-down",attrs:{subject:e,editMode:t.editMode}})],1),r("v-card-subtitle",{staticClass:"ml-2 mt-0 font-weight-light"},[t._v("Verantwortlich: "),t._l(t.responsible,(function(s,i){return r("span",{key:i},[s.subject==e.id?r("span",[t._v(t._s(s.creators.slice(0,3).join(", ")))]):t._e()])}))],2),r("SubjectButtons",{staticClass:"hidden-md-and-up mx-4",attrs:{subject:e,editMode:t.editMode}}),r("v-container",{attrs:{fluid:""}},[r("LinkTable",{attrs:{subject:e,editMode:t.editMode},on:{linksLoaded:function(e){return t.responsible.push(e)}}})],1),r("SubjectInfos",{attrs:{subject:e,editMode:t.editMode}}),t.signedIn&&1==t.userRole&&t.editMode===e.id?r("v-card-subtitle",{staticStyle:{cursor:"pointer"}},[r("span",{staticClass:"error--text",on:{click:function(r){t.confirmDelete=e.id}}},[t._v("Delete Subject")])]):t._e()],1),t.confirmDelete===e.id?r("v-snackbar",{attrs:{color:"primary"},model:{value:t.confirmDelete,callback:function(e){t.confirmDelete=e},expression:"confirmDelete"}},[t._v(' Do you really want to delete "'+t._s(e.subjectName)+'" ? '),r("v-btn",{attrs:{color:"success"},on:{click:function(r){return t.deleteSubject(e.id,e.subjectName)}}},[t._v("Yes")]),r("v-btn",{attrs:{color:"error"},on:{click:function(e){t.confirmDelete=null}}},[t._v("No")])],1):t._e()],1)})),t.signedIn?r("v-container",[r("v-card",{staticStyle:{cursor:"pointer"},attrs:{outlined:""},on:{click:function(e){t.newSubject={subjectName:""}}}},[r("v-card-title",{staticClass:"primary--text"},[r("v-icon",{staticClass:"mr-6",attrs:{color:"primary"}},[t._v("mdi-plus")]),t._v("New Subject")],1)],1)],1):t._e()],2):r("div",[r("v-container",{staticClass:"fill-height",staticStyle:{height:"30vh",width:"100vw"}},[r("v-row",[r("v-col",{staticClass:"text-center font-weight-light primary--text pb-0",staticStyle:{"font-size":"3rem"},attrs:{cols:"12"}},[t._v(" napoly.ch ")]),r("v-col",{staticClass:"text-center font-weight-light primary--text pt-0",staticStyle:{"font-size":"1.25rem","font-family":"Open Sans"},attrs:{cols:"12"}},[t._v(" Student Document Repository ")])],1)],1),r("v-card",{staticClass:"grey--text",attrs:{flat:""}},[r("year-list"),r("field-list"),r("semester-list")],1)],1),r("ObjectEditor",{attrs:{objectToEdit:t.newSubject,active:t.newSubject,"forbidden-attributes":[""]},on:{updateObject:function(e){return t.addSubject(e)},cancel:function(e){t.newSubject=null}}})],1)},pt=[],vt=(r("d3b7"),r("25f0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-card",{staticClass:"ma-0 mb-6",attrs:{flat:"",outlined:""}},[r("v-simple-table",{attrs:{"fixed-header":""}},[r("thead",[r("tr",[r("th",{staticClass:"font-weight-light text-center"},[t._v("Week")]),t._l(t.typeIds,(function(e){return r("th",{key:e,staticClass:"font-weight-light text-center"},[t._v(t._s(t.types[e-1]))])})),t.editMode===t.subject.id?r("th",[r("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:function(e){t.addingType=!0}}},[t._v("+")])],1):t._e()],2)]),r("tbody",{attrs:{align:"center"}},[t._l(t.subjectWeeks,(function(e){return r("tr",{key:e},[r("td",{staticClass:"font-weight-light"},[t._v(t._s(e))]),t._l(t.typeIds,(function(s){return r("td",{key:s,staticStyle:{cursor:"pointer"}},[t.typeWeekCombos.includes(s+"/"+e)&&t.editMode!==t.subject.id?r("a",{staticClass:"primary--text font-weight-light",staticStyle:{"text-decoration":"none"},attrs:{href:t.findLinkFromTypeAndWeek(s,e).linkUrl,target:"_blank"}},[r("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t.types[s-1]))]),t._v(" "+t._s(e))]):r("span"),t.editMode===t.subject.id?r("v-btn",{attrs:{outlined:"",tile:"","x-small":"",color:"primary"},on:{click:function(r){return t.editLink(s,e)}}},[t._v(" "+t._s(t.typeWeekCombos.includes(s+"/"+e)?t.types[s-1]+" "+e:"+")+" ")]):r("span")],1)})),t.editMode===t.subject.id?r("td"):t._e()],2)})),t.editMode===t.subject.id?r("tr",[r("td",{staticClass:"text-center"},[r("v-btn",{staticClass:"pa-0 ma-0",attrs:{text:"","x-small":"",color:"primary"},on:{click:function(e){return t.addWeek()}}},[t._v("+ ")])],1)]):t._e()],2)])],1),r("ObjectEditor",{attrs:{objectToEdit:t.editedLink,"forbidden-attributes":t.forbiddenAttributes,active:t.editingLink},on:{updateObject:function(e){return t.updateLink(e)},cancel:function(e){t.editingLink=!1,t.editedLink=null},delete:function(e){return t.removeLink(t.editedLink)}}}),r("ArraySelector",{attrs:{arrayToSelectFrom:t.types,active:t.addingType},on:{returnSelection:function(e){return t.addType(e)},cancel:function(e){t.addingType=!1}}})],1)}),ft=[],ht=(r("99af"),r("7db0"),r("caad"),r("c975"),r("a434"),r("2532"),r("ac1f"),r("5319"),r("bc3a")),mt=r.n(ht);function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var yt="https://api.napoly.ch";yt="https://api.napoly.ch";var jt=mt.a.create({baseURL:yt,withCredentials:!0,headers:{"Content-Type":"application/json"}}),wt=mt.a.create({baseURL:yt,withCredentials:!0,headers:{"Content-Type":"application/json"}});jt.interceptors.request.use((function(t){var e=t.method.toUpperCase();return"OPTIONS"!==e&&"GET"!==e&&(t.headers=gt({},t.headers,{"X-CSRF-TOKEN":localStorage.csrf})),t})),jt.interceptors.response.use(null,(function(t){return t.response&&t.response.config&&401===t.response.status?wt.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((function(e){localStorage.csrf=e.data.csrf,localStorage.signedIn=!0;var r=t.response.config;return r.headers["X-CSRF-TOKEN"]=localStorage.csrf,wt.request(r)})).catch((function(t){return delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(t)})):Promise.reject(t)}));var Ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("v-card",[t._l(t.objectValues,(function(e,s){return r("v-card-text",{key:e.id,staticClass:"py-2"},[t.objectKeys[s].includes("infoText")?r("div",[r("v-textarea",{staticClass:"ma-0 pb-0 pt-2",attrs:{"hide-details":"",outlined:"",label:t.objectKeys[s],type:typeof e},model:{value:t.objectValues[s],callback:function(e){t.$set(t.objectValues,s,e)},expression:"objectValues[index]"}}),r("v-btn",{staticClass:"pl-1 my-2",attrs:{small:"",outlined:"",tile:""},on:{click:function(e){t.objectValues[s]+=" [Link Title](URL)",t.active=!1,t.active=!0}}},[r("v-icon",{staticClass:"mr-1"},[t._v("mdi-link-variant-plus")]),t._v("Add Link")],1),r("v-divider"),r("v-card",{staticClass:"mt-2"},[r("v-card-title",[t._v("Info Preview")]),r("v-card-text",[r("vue-markdown",{attrs:{source:t.objectValues[s]}})],1)],1)],1):t.objectKeys[s].includes("role")?r("v-select",{staticClass:"ma-0 pb-0 pt-2",attrs:{items:[{value:1,text:"Admin"},{value:0,text:"Moderator"}],"hide-details":"",outlined:"",label:t.objectKeys[s]},model:{value:t.objectValues[s],callback:function(e){t.$set(t.objectValues,s,e)},expression:"objectValues[index]"}}):t.objectKeys[s].includes("field_id")?r("v-select",{staticClass:"ma-0 pb-0 pt-2",attrs:{items:t.fields.data,"item-text":"fieldName","item-value":"id","hide-details":"",outlined:"",label:t.objectKeys[s]},model:{value:t.objectValues[s],callback:function(e){t.$set(t.objectValues,s,e)},expression:"objectValues[index]"}}):t.objectKeys[s].includes("password")?r("v-text-field",{staticClass:"ma-0 pb-0 pt-2",attrs:{"append-icon":t.showPassword?"mdi-eye-off":"mdi-eye","hide-details":"",outlined:"",label:t.objectKeys[s],type:t.showPassword?"text":"password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.objectValues[s],callback:function(e){t.$set(t.objectValues,s,e)},expression:"objectValues[index]"}}):r("v-text-field",{staticClass:"ma-0 pb-0 pt-2",attrs:{"hide-details":"",outlined:"",label:t.objectKeys[s],type:typeof e},model:{value:t.objectValues[s],callback:function(e){t.$set(t.objectValues,s,e)},expression:"objectValues[index]"}})],1)})),r("v-card-actions",{staticClass:"mt-0 pt-0"},[r("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.$emit("delete")}}},[t._v(" Delete ")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" Cancel ")]),r("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.$emit("updateObject",{objectKeys:t.objectKeys,objectValues:t.objectValues})}}},[t._v(" Send ")])],1)],2)],1)},xt=[],_t=(r("07ac"),r("9ce6")),St=r.n(_t);function kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Pt={name:"ObjectEditor",components:{VueMarkdown:St.a},props:{objectToEdit:{},active:null,forbiddenAttributes:null},data:function(){return{objectKeys:[],objectValues:[],newField:null,showPassword:!1}},computed:Ct({},Object(l["d"])("napolyApiModule",["fields"])),watch:{objectToEdit:function(){this.active&&this.initializeObject()}},methods:{initializeObject:function(){for(var t in this.objectKeys=Object.keys(this.objectToEdit),this.objectValues=Object.values(this.objectToEdit),this.objectValues)null===this.objectValues[t]&&(this.objectValues[t]=" ");for(var e=this.objectKeys.length-1;e>=0;e--)this.forbiddenAttributes.includes(this.objectKeys[e])&&(this.objectKeys.splice(e,1),this.objectValues.splice(e,1))}}},It=Pt,Dt=Object(f["a"])(It,Ot,xt,!1,null,null,null),Et=Dt.exports,Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"600",persistent:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[r("v-card",[r("v-container",{staticClass:"pa-0 font-weight-light",staticStyle:{"font-family":"Open Sans"},attrs:{fluid:""}},[r("v-data-iterator",{attrs:{items:t.searchedArray,"single-select":"","items-per-page":t.itemsPerPage,page:t.page,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[r("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[r("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search types"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"default",fn:function(e){return[r("v-list-item-group",[r("v-list",{staticClass:"pa-0"},t._l(e.items,(function(e){return r("v-list-item",{key:e,attrs:{color:e===t.elementToReturn?"primary":""},on:{click:function(r){t.elementToReturn=e}}},[r("span",[t._v(t._s(e))])])})),1)],1)]}}])})],1),r("v-card-actions",[r("span",{staticClass:"mr-4 grey--text font-weight-light",staticStyle:{"font-family":"Open Sans"}},[t._v("Page "+t._s(t.page)+" of "+t._s(t.numberOfPages))]),r("v-btn",{staticClass:"mr-1",attrs:{outlined:"",color:"primary","x-small":""},on:{click:t.formerPage}},[r("v-icon",[t._v("mdi-chevron-left")])],1),r("v-btn",{staticClass:"ml-1",attrs:{"x-small":"",outlined:"",color:"primary"},on:{click:t.nextPage}},[r("v-icon",[t._v("mdi-chevron-right")])],1),r("v-spacer"),r("v-btn",{attrs:{color:"primary",outlined:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" Cancel ")]),t.elementToReturn?r("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$emit("returnSelection",t.elementToReturn)}}},[t._v(" Select ")]):t._e()],1)],1)],1)},At=[],Mt=(r("fb6a"),r("841c"),{name:"ArraySelector",props:{arrayToSelectFrom:null,active:null},data:function(){return{elementToReturn:null,itemsPerPageArray:[4,8,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:6}},computed:{numberOfPages:function(){return Math.ceil(this.searchedArray.length/this.itemsPerPage)},searchedArray:function(){var t=this;return 0!==this.search.length&&null!==this.search.length?this.arrayToSelectFrom.filter((function(e){return e.includes(t.search)||e.includes(t.capitalize(t.search))})):this.arrayToSelectFrom}},watch:{numberOfPages:function(){this.page=1}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}}),Tt=Mt,Ft=Object(f["a"])(Tt,Lt,At,!1,null,null,null),Ut=Ft.exports;function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Nt={name:"LinkTable",components:{ArraySelector:Ut,ObjectEditor:Et},created:function(){this.getSubjectLinks()},props:{subject:null,editMode:null},data:function(){return{subjectWeeks:[],typeIds:[],subjectLinks:[],typeWeekCombos:[],editingLink:!1,editedLink:null,addingType:!1,newLink:{},creators:[],forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","type_id","subject_id"]}},computed:$t({},Object(l["d"])("napolyApiModule",["types","subjects"]),{},Object(l["d"])(["signedIn","message"])),methods:$t({},Object(l["c"])(["setMessage"]),{getSubjectLinks:function(){var t=this;wt.get("/api/v1/links?subject_id=".concat(this.subject.id)).then((function(e){function r(t,e){return t<e?-1:t>e?1:0}t.subjectLinks=e.data,e.data.forEach((function(e){t.creators.includes(e.creator)||t.creators.push(e.creator),t.typeIds.includes(e.type_id)||t.typeIds.push(e.type_id);while(!t.subjectWeeks.includes(e.linkWeek))t.subjectWeeks.push(e.linkWeek);t.typeWeekCombos.push("".concat(e.type_id,"/").concat(e.linkWeek))})),t.subjectWeeks.sort(r),t.$emit("linksLoaded",{subject:t.subject.id,creators:t.creators})}))},findLinkFromTypeAndWeek:function(t,e){return this.subjectLinks.find((function(r){return r.type_id===t&&r.linkWeek===e}))},editLink:function(t,e){this.findLinkFromTypeAndWeek(t,e)?(this.editedLink=this.findLinkFromTypeAndWeek(t,e),this.editingLink=!0):null===this.editedLink&&(this.editedLink={linkWeek:e,type_id:t,linkUrl:"",subject_id:this.subject.id,creator:localStorage.username,editor:""},this.editingLink=!0)},updateLink:function(t){var e=this;this.editingLink=!1,this.editedLink.linkUrl=t.objectValues[0],0!==this.editedLink.linkUrl.length&&void 0===this.editedLink.id?jt.post("/api/v1/links",this.editedLink).then((function(t){e.editedLink=null,e.message.text="Link ".concat(t.data.id," added"),e.message.color="info",e.message.active=!0,e.subjectLinks.push(t.data),e.typeWeekCombos.push("".concat(t.data.type_id,"/").concat(t.data.linkWeek))})):0!==this.editedLink.linkUrl.length&&void 0!==this.editedLink.id?jt.patch("/api/v1/links/".concat(this.editedLink.id),this.editedLink).then((function(t){e.editedLink=null,e.message.text="Link ".concat(t.data.id," updated"),e.message.color="info",e.message.active=!0})):(this.editedLink=null,this.message.text="Invalid link",this.message.color="error",this.message.active=!0)},removeLink:function(t){jt.delete("/api/v1/links/".concat(t.id)).then(this.editingLink=!1,this.editedLink=null,this.typeWeekCombos.splice(this.typeWeekCombos.indexOf("".concat(t.type_id,"/").concat(t.linkWeek)),1),this.subjectLinks=this.subjectLinks.filter((function(e){return e.id!==t.id})),this.message.text="Link ".concat(t.id," removed"),this.message.color="warning",this.message.active=!0)},addWeek:function(){0===this.subjectWeeks.length?this.subjectWeeks.push(1):this.subjectWeeks.push(this.subjectWeeks[this.subjectWeeks.length-1]+1)},addType:function(t){this.addingType=!1,this.typeIds.push(this.types.indexOf(t)+1)}})},Wt=Nt,Vt=Object(f["a"])(Wt,vt,ft,!1,null,null,null),Rt=Vt.exports,Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.editMode!==t.subject.id?r("div",[t._l(t.buttons,(function(e){return r("v-btn",{key:"inline"+e.id,staticClass:"mx-1 hidden-sm-and-down white--text",attrs:{depressed:"",color:"primary",href:e.buttonUrl,small:"",target:"_blank"}},[t._v(" "+t._s(e.buttonLabel)+" ")])})),t._l(t.buttons,(function(e){return r("v-btn",{key:"block"+e.id,staticClass:"my-2 hidden-md-and-up white--text",attrs:{depressed:"",color:"primary",href:e.buttonUrl,small:"",target:"_blank",block:""}},[t._v(" "+t._s(e.buttonLabel)+" ")])}))],2):r("div",[t._l(t.buttons,(function(e){return r("v-btn",{key:"inline"+e.id,staticClass:"mx-1 px-1 hidden-sm-and-down",attrs:{small:"",target:"_blank",outlined:"",color:"info",tile:""},on:{click:function(r){return t.editButton(e)}}},[t._v(t._s(e.buttonLabel)+" ")])})),t._l(t.buttons,(function(e){return r("v-btn",{key:"block"+e.id,staticClass:"my-1 hidden-md-and-up",attrs:{small:"",target:"_blank",outlined:"",color:"info",tile:"",block:""},on:{click:function(r){return t.editButton(e)}}},[t._v(t._s(e.buttonLabel)+" ")])})),r("v-btn",{staticClass:"pa-0 hidden-sm-and-down ml-4",attrs:{color:"primary",outlined:"",small:"",tile:""},on:{click:function(e){return t.editButton({buttonUrl:"",buttonLabel:"",subject_id:t.subject.id})}}},[t._v(" + ")]),r("v-btn",{staticClass:"hidden-md-and-up mt-4",attrs:{color:"primary",outlined:"",small:"",tile:"",block:""},on:{click:function(e){return t.editButton({buttonUrl:"",buttonLabel:"",subject_id:t.subject.id})}}},[t._v(" + ")])],2),r("ObjectEditor",{attrs:{objectToEdit:t.newButton,"forbidden-attributes":t.forbiddenAttributes,active:t.editingButton},on:{updateObject:function(e){return t.updateButton(e)},cancel:function(e){t.editingButton=!1},delete:function(e){return t.removeButton(t.newButton)}}})],1)},Kt=[];function Jt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ht={name:"SubjectButtons",components:{ObjectEditor:Et},created:function(){this.getButtons()},props:{subject:null,editMode:null},data:function(){return{buttons:[],editingButton:!1,newButton:{},forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","subject_id","type_id"]}},computed:zt({},Object(l["d"])(["message"])),methods:{getButtons:function(){var t=this;wt.get("/api/v1/buttons?subject_id=".concat(this.subject.id)).then((function(e){t.buttons=e.data}))},editButton:function(t){this.editMode===this.subject.id&&(this.editingButton=!0,this.newButton=t)},updateButton:function(t){var e=this;for(var r in this.editingButton=!1,t.objectKeys)this.newButton[t.objectKeys[r]]=t.objectValues[r];0!==this.newButton.buttonUrl.length&&0!==this.newButton.buttonLabel.length&&void 0===this.newButton.id?jt.post("/api/v1/buttons",this.newButton).then((function(t){e.message.text="Button ".concat(t.data.id," added"),e.message.color="info",e.message.active=!0,e.buttons.push(t.data)})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):0!==this.newButton.buttonUrl.length&&0!==this.newButton.buttonLabel.length&&void 0!==this.newButton.id?jt.patch("/api/v1/buttons/".concat(this.newButton.id),this.newButton).then((function(t){e.message.text="Button ".concat(t.data.id," updated"),e.message.color="info",e.message.active=!0})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):(this.message.text="Invalid Button",this.message.color="error",this.message.active=!0)},removeButton:function(t){jt.delete("/api/v1/buttons/".concat(t.id)).then(this.editingButton=!1,this.buttons.splice(this.buttons.indexOf(t),1),this.message.text="Button ".concat(t.id," removed"),this.message.color="warning",this.message.active=!0)}}},Gt=Ht,qt=Object(f["a"])(Gt,Yt,Kt,!1,null,null,null),Xt=qt.exports,Qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[t._l(t.infos,(function(e){return r("div",{key:e.id},[r("v-card",{staticClass:"mx-4 mb-10",attrs:{outlined:t.editMode===t.subject.id,elevation:"0"}},[r("v-card-title",{class:t.editMode===t.subject.id?"pt-4 primary--text font-weight-light pb-0":"pt-1 primary--text font-weight-light px-0 pb-0",staticStyle:{"font-family":"Open Sans","word-break":"keep-all"}},[t.editMode===t.subject.id?r("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",outlined:"",tile:"",color:"primary"},on:{click:function(r){return t.editInfo(e,e.id)}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1):t._e(),t._v(" "+t._s(e.infoTitle)+" "),r("v-divider",{staticClass:"mx-6 hidden-sm-and-down"})],1),r("v-card-title",{class:t.editMode===t.subject.id?"body-2 grey--text font-weight-light pt-0 pb-4":"body-2 grey--text font-weight-light pa-0 pb-4 px-0",staticStyle:{"font-family":"Open Sans"}},[t._v("Editiert am "+t._s(t.convertDate(e.updated_at.substring(0,10))))]),r("v-card-text",{class:t.editMode===t.subject.id?"pb-0 pb-4":"pb-0 px-0"},[r("vue-markdown",[t._v(t._s(e.infoText))])],1)],1)],1)})),t.editMode===t.subject.id?r("v-card",{staticClass:"mx-4 my-2 text-center",staticStyle:{cursor:"pointer"},attrs:{outlined:""},on:{click:function(e){return t.editInfo({infoTitle:"",infoText:"",subject_id:t.subject.id})}}},[r("v-card-text",[r("v-icon",[t._v("mdi-plus")])],1)],1):t._e(),r("ObjectEditor",{attrs:{objectToEdit:t.editedInfo,active:t.editingInfo,"forbidden-attributes":t.forbiddenAttributes},on:{updateObject:function(e){return t.updateInfo(e)},cancel:function(e){t.editingInfo=!1},delete:function(e){return t.removeInfo(t.editedInfo)}}})],2)},Zt=[];function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var re={name:"SubjectInfos",components:{ObjectEditor:Et,VueMarkdown:St.a},created:function(){this.getInfos()},props:{subject:null,editMode:null},data:function(){return{infos:[],editingInfo:!1,editedInfo:{},newInfo:{},forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","subject_id","type_id"]}},computed:ee({},Object(l["d"])(["message"])),methods:{getInfos:function(){var t=this;this.infos=[],wt.get("/api/v1/infos?subject_id=".concat(this.subject.id)).then((function(e){t.infos=e.data}))},editInfo:function(t,e){this.newInfo.id=e,this.newInfo.subject_id=this.subject.id,this.editMode===this.subject.id&&(this.editingInfo=!0,this.editedInfo=t)},updateInfo:function(t){var e=this;for(var r in this.editingInfo=!1,t.objectKeys)this.newInfo[t.objectKeys[r]]=t.objectValues[r];0!==this.newInfo.infoTitle.length&&0!==this.newInfo.infoText.length&&void 0===this.newInfo.id?jt.post("/api/v1/infos",this.newInfo).then((function(t){e.message.text="Info ".concat(t.data.id," added"),e.message.color="info",e.message.active=!0,e.getInfos()})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):0!==this.newInfo.infoTitle.length&&0!==this.newInfo.infoText.length&&void 0!==this.newInfo.id?jt.patch("/api/v1/infos/".concat(this.newInfo.id),this.newInfo).then((function(t){e.message.text="Info ".concat(t.data.id," updated"),e.message.color="info",e.message.active=!0,e.getInfos()})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):(this.message.text="Invalid Info",this.message.color="error",this.message.active=!0)},removeInfo:function(t){jt.delete("/api/v1/infos/".concat(t.id)).then(this.editingInfo=!1,this.infos.splice(this.infos.indexOf(t),1),this.message.text="Info ".concat(t.id," removed"),this.message.color="warning",this.message.active=!0)},convertDate:function(t){var e=t.substring(0,4),r=t.substring(5,7),s=t.substring(8,10);return s+"."+r+"."+e}}},se=re,ie=Object(f["a"])(se,Qt,Zt,!1,null,null,null),ae=ie.exports;function ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var oe={name:"SubjectCard",components:{ObjectEditor:Et,SemesterList:M,YearList:it,FieldList:q,SubjectInfos:ae,SubjectButtons:Xt,LinkTable:Rt},created:function(){this.userRole=localStorage.userRole,this.userField=localStorage.userField},props:{subjectId:null},data:function(){return{confirmDelete:null,editMode:null,firstTimeUse:!1,newSubject:null,userField:null,responsible:[]}},computed:ce({},Object(l["d"])("napolyApiModule",["subjects","currentFieldId","currentSemesterId","currentYear"]),{},Object(l["d"])(["loading","noresult","signedIn","message"])),methods:ce({},Object(l["b"])("napolyApiModule",["getSubjects"]),{addSubject:function(t){var e=this;this.newSubject=null;var r={subjectName:t.objectValues[0],semester_id:this.currentSemesterId,field_id:this.currentFieldId,year:this.currentYear};jt.post("/api/v1/subjects",r).then(this.getSubjects,this.message.text='Subject "'.concat(t.objectValues[0],'" has been created'),this.message.color="success",this.message.active=!0).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0}))},deleteSubject:function(t,e){this.confirmDelete=!1,jt.delete("/api/v1/subjects/"+t).then(this.getSubjects,this.message.text='Subject "'.concat(e,'" has been deleted'),this.message.color="warning",this.message.active=!0)},authenticate:function(t){return this.signedIn&&(t.field_id.toString()===this.userField||"1"===this.userRole)}})},le=oe,de=Object(f["a"])(le,ut,pt,!1,null,null,null),ue=de.exports;function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var fe={name:"home",created:function(){this.getTypes()},components:{SubjectCard:ue,Toolbar:dt},methods:ve({},Object(l["b"])("napolyApiModule",["getTypes"]))},he=fe,me=Object(f["a"])(he,x,_,!1,null,null,null),be=me.exports,ge=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("v-content",[r("v-container",{staticStyle:{position:"fixed","z-index":"100",left:"2%"}},[r("v-row",[r("v-col",[r("v-card",{staticClass:"pa-2 white--text",attrs:{width:"200",to:"/",color:"primary"}},[r("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[t._v("mdi-arrow-left")]),t._v(" Back to Homepage ")],1)],1)],1)],1),r("div",[r("v-container",{staticClass:"fill-height",staticStyle:{height:"20vh",width:"100vw"}},[r("v-row",[r("v-col",{staticClass:"text-center font-weight-light primary--text pb-0",staticStyle:{"font-size":"3rem"},attrs:{cols:"12"}},[t._v(" napoly.ch ")]),r("v-col",{staticClass:"text-center font-weight-light primary--text pt-0",staticStyle:{"font-size":"1.25rem","font-family":"Open Sans"},attrs:{cols:"12"}},[t._v(" Student Document Repository ")])],1)],1)],1),r("v-container",[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("Organisation")])],1)],1)],1)],1),r("v-row",[r("v-col",[r("v-card",[r("v-card-title",{staticClass:"primary--text font-weight-light"},[t._v("Marco Trentini "),r("v-spacer"),r("a",{attrs:{href:"mailto:marcotr@ethz.ch"}},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-mail")])],1)],1),r("v-card-text",[t._v("- Frontend & Backend Code"),r("br"),t._v(" - Serveradministration "),r("br"),t._v(" - Mitgliederadministration")])],1)],1),r("v-col",[r("v-card",[r("v-card-title",{staticClass:"primary--text font-weight-light"},[t._v("Micha Bosshart "),r("v-spacer"),r("a",{attrs:{href:"mailto:bmicha@ethz.ch"}},[r("v-icon",{attrs:{color:"primary"}},[t._v("mdi-mail")])],1)],1),r("v-card-text",[t._v("- Mitgliederadministration "),r("br"),t._v(" - Kommunikation "),r("br"),t._v(" "),r("br")])],1)],1)],1),r("v-divider",{staticClass:"mt-10"}),r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("D-MAVT")])],1)],1)],1)],1),r("v-row",[r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("1. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Siddhartha Lakkakula"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light"},[r("v-spacer"),t._v("Aline Usinger"),r("v-spacer")],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light"},[r("v-spacer"),t._v("Jan Sigrist"),r("v-spacer")],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light"},[r("v-spacer"),t._v("Julian Weber"),r("v-spacer")],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("2. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Felix Tobler"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light"},[r("v-spacer"),t._v("Rosina Weiss"),r("v-spacer")],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("3. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Micha Bosshart"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light"},[r("v-spacer"),t._v("Marco Trentini"),r("v-spacer")],1)],1)],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("D-ITET")])],1)],1)],1)],1),r("v-row",[r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("1. Jahr")])],1)],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("2. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Basil Wymann"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("3. Jahr")])],1)],1)],1)],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("D-BAUG")])],1)],1)],1)],1),r("v-row",[r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("1. Jahr")])],1)],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("2. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Jonathan Wilp"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("3. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Altin Suli"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("D-ARCH")])],1)],1)],1)],1),r("v-row",[r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("1. Jahr")])],1)],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("2. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Manuel Eichenberger"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortlicher")])],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("3. Jahr")])],1)],1)],1)],1)],1)],1),r("v-divider"),r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text pb-0"},[t._v("D-BIOL")])],1)],1)],1)],1),r("v-row",[r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("1. Jahr")])],1)],1)],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("2. Jahr")])],1)],1)],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Elina Jansone"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortliche")])],1)],1),r("v-row",[r("v-card",{staticClass:"text-center mb-4",staticStyle:{width:"100%"}},[r("v-card-title",{staticClass:"primary--text font-weight-light pb-0"},[r("v-spacer"),t._v("Colin Scheurer"),r("v-spacer")],1),r("v-card-text",[t._v("- Semesterverantwortliche")])],1)],1)],1),r("v-col",{staticClass:"mx-2"},[r("v-row",{staticClass:"text-center",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{justify:"center"}},[r("v-card",{staticClass:"pa-2 grey--text",attrs:{width:"200",flat:""}},[r("v-card-text",{staticClass:"title font-weight-light grey--text py-0"},[t._v("3. Jahr")])],1)],1)],1)],1)],1)],1),r("v-divider",{staticClass:"mb-12 pb-12"})],1)],1)],1)},ye=[],je={name:"about",components:{}},we=je,Oe=Object(f["a"])(we,ge,ye,!1,null,null,null),xe=Oe.exports,_e=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AdminToolbar"),r("v-content",[r("v-container",[r("v-card",{attrs:{flat:""}},[r("v-card-title",{staticClass:"grey--text"},[r("v-spacer"),t._v("Change Password"),r("v-spacer")],1),r("v-card-text",[r("v-text-field",{staticClass:"mb-6",attrs:{outlined:"",label:"New Password",color:"primary",type:"password","prepend-inner-icon":"mdi-lock","hide-details":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{label:"Password Confirmation",color:"primary",outlined:"",type:"password","prepend-inner-icon":"mdi-lock","hide-details":""},model:{value:t.password_confirmation,callback:function(e){t.password_confirmation=e},expression:"password_confirmation"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{tile:"",outlined:"",color:"primary"},on:{click:t.changePassword}},[t._v("Submit")]),r("v-spacer")],1)],1)],1)],1)],1)},Se=[],ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-navigation-drawer",{attrs:{dark:"",app:"",overflow:"",color:"primary"},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}},[r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",{staticClass:"font-weight-light",staticStyle:{"font-size":"1.5rem"}},[t._v(" napoly ")]),r("v-list-item-subtitle",{staticClass:"font-weight-light"},[t._v(" Student Document Repository ")])],1)],1),r("v-divider"),r("v-list-item-group",[r("v-list-item",{attrs:{to:"/"}},[r("v-list-item-icon",{staticClass:"mr-2"},[r("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-home")])],1),r("v-list-item-title",{staticClass:"font-weight-light white--text"},[t._v("Homepage")])],1),r("v-divider"),r("v-list-item",{attrs:{to:"/admin"}},[r("v-list-item-icon",{staticClass:"mr-2"},[r("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-account-cowboy-hat")])],1),r("v-list-item-title",{staticClass:"font-weight-light white--text"},[t._v("My Account")])],1),r("v-divider"),"1"===t.userRole?r("v-list-item",{attrs:{to:"/account"}},[r("v-list-item-icon",{staticClass:"mr-2"},[r("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-account-multiple-plus")])],1),r("v-list-item-title",{staticClass:"font-weight-light white--text"},[t._v("User Management")])],1):t._e(),"1"===t.userRole?r("v-divider"):t._e(),r("v-list-item",{on:{click:function(e){return t.signOut()}}},[r("v-list-item-icon",{staticClass:"mr-2"},[r("v-icon",{attrs:{small:"",color:"white"}},[t._v("mdi-logout")])],1),r("v-list-item-title",{staticClass:"font-weight-light white--text"},[t._v("Log Out")])],1),r("v-divider")],1)],1)],1),r("v-app-bar",{attrs:{app:"",flat:"",dense:"",color:"white"}},[r("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.showDrawer=!t.showDrawer}}})],1)],1)},Ce=[],Pe={name:"AdminToolbar",created:function(){"true"!==localStorage.signedIn&&this.$router.replace("/"),this.userRole=localStorage.userRole},data:function(){return{showDrawer:!0,username:null,userRole:null}},methods:{signOut:function(){var t=this;this.$store.signedIn=!1,jt.delete("/signin").then((function(e){delete localStorage.csrf,delete localStorage.signedIn,delete localStorage.username,delete localStorage.uid,delete localStorage.userRole,delete localStorage.userField,t.$store.state.signedIn=!1,t.$router.replace("/")}))}}},Ie=Pe,De=Object(f["a"])(Ie,ke,Ce,!1,null,null,null),Ee=De.exports;function Le(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Ae(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Me={name:"AdminInterface",components:{AdminToolbar:Ee},created:function(){this.username=localStorage.username,this.uid=localStorage.uid,this.userField=localStorage.userField},data:function(){return{uid:null,username:null,email:null,password:null,password_confirmation:null}},computed:Ae({},Object(l["d"])(["message"])),methods:{changePassword:function(){var t=this;this.password===this.password_confirmation?jt.patch("/api/v1/users/"+this.uid,{field_id:this.userField,email:this.username,password:this.password,password_confirmation:this.password_confirmation}).then(this.message.text="Password updated",this.message.color="success",this.message.active=!0).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):(this.message.text="Password and confirmation do not match",this.message.color="error",this.message.active=!0)}}},Te=Me,Fe=Object(f["a"])(Te,_e,Se,!1,null,"f0284db0",null),Ue=Fe.exports,Be=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-content",{attrs:{fluid:""}},[r("v-container",{staticClass:"fill-height"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{sm:"12",md:"6"}},[r("v-card",{attrs:{flat:""}},[r("v-toolbar",{attrs:{flat:""}},[r("v-spacer"),r("v-toolbar-title",{staticClass:"grey--text"},[t._v("Sign in to napoly.ch")]),r("v-spacer")],1),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{solo:"",label:"Username",name:"Username","prepend-inner-icon":"mdi-account",type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signin(e)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{solo:"",id:"password",label:"Password",name:"password","prepend-inner-icon":"mdi-lock",type:"password"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signin(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:t.signin}},[t._v("Sign in")]),r("v-spacer")],1)],1)],1)],1)],1)],1)},$e=[];function Ne(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ne(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ve={name:"Signin",created:function(){localStorage.signedIn&&(this.message.text="Already Signed in",this.message.color="warning",this.message.active=!0,this.$router.replace("/admin"))},data:function(){return{email:"",password:""}},computed:We({},Object(l["d"])(["message","signedIn"])),methods:{signin:function(){var t=this;if(!this.email||!this.password)return this.message.text="Invalid e-mail or password",this.message.color="error",void(this.message.active=!0);wt.post("/signin",{email:this.email,password:this.password}).then((function(e){e.data.csrf&&(localStorage.csrf=e.data.csrf,localStorage.username=e.data.username,localStorage.uid=e.data.id,localStorage.userRole=e.data.role,localStorage.userField=e.data.field_id,localStorage.signedIn=!0,t.$store.state.signedIn=!0,t.$router.replace("/"),t.message.text="Signin Successful",t.message.color="success",t.message.active=!0)})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0}))}}},Re=Ve,Ye=Object(f["a"])(Re,Be,$e,!1,null,null,null),Ke=Ye.exports,Je=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("AdminToolbar"),r("v-content",[1==t.userRole?r("UserExplorer"):r("v-card",[r("v-card-title",[t._v("Not permitted")])],1)],1)],1)},ze=[],He=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-data-iterator",{attrs:{items:t.searchedArray,"single-select":"","items-per-page":100,page:t.page,"hide-default-footer":""},scopedSlots:t._u([{key:"header",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-account-search",label:"Search User"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),r("v-btn",{staticClass:"ml-4",attrs:{text:"",outlined:""},on:{click:function(e){return t.editUser({email:"",field_id:1,role:1,password:"",password_confirmation:""})}}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),t._v(" Add User ")],1)],1)]},proxy:!0},{key:"default",fn:function(e){return[r("v-list",[r("v-list-item-group",{model:{value:e.items,callback:function(r){t.$set(e,"items",r)},expression:"props.items"}},t._l(e.items,(function(e){return r("div",{key:e.id},[r("v-list-item",{attrs:{"three-line":"",color:"primary"},on:{click:function(r){return t.editUser(e)}}},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.email))]),r("v-list-item-subtitle",[t._v("Role: "+t._s(1===e.role?"Admin":"Moderator")+" "),r("v-spacer"),t._v(" Field: "+t._s(t.fields.data[e.field_id-1].fieldName)+" ")],1)],1)],1),r("v-divider")],1)})),0)],1)]}}])}),r("ObjectEditor",{attrs:{"object-to-edit":t.editedUser,"forbidden-attributes":t.forbiddenAttributes,active:t.editingUser},on:{cancel:function(e){t.editingUser=!1},updateObject:function(e){return t.updateUser(e)},delete:function(e){return t.removeUser(t.editedUser)}}})],1)},Ge=[];function qe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Qe={name:"UserExplorer",components:{ObjectEditor:Et},created:function(){this.getUsers(),this.getFields()},data:function(){return{users:[],editedUser:{},editingUser:!1,search:"",page:1,itemsPerPage:4,forbiddenAttributes:["password_digest","created_at","updated_at","id"]}},computed:Xe({},Object(l["d"])(["message"]),{},Object(l["d"])("napolyApiModule",["fields"]),{numberOfPages:function(){return Math.ceil(this.searchedArray.length/this.itemsPerPage)},searchedArray:function(){var t=this;return 0!==this.search.length&&null!==this.search.length?this.users.filter((function(e){return e.email.includes(t.search)||e.email.includes(t.capitalize(t.search))})):this.users}}),methods:Xe({},Object(l["b"])("napolyApiModule",["getFields"]),{getUsers:function(){var t=this;jt.get("/api/v1/users").then((function(e){t.users=e.data}))},editUser:function(t){this.editingUser=!0,this.editedUser=t},updateUser:function(t){var e=this;for(var r in this.editingUser=!1,t.objectKeys)this.editedUser[t.objectKeys[r]]=t.objectValues[r];0!==this.editedUser.email.length&&null!==this.editedUser.field_id&&void 0===this.editedUser.id?jt.post("/signup",this.editedUser).then((function(t){e.message.text="User ".concat(e.editedUser.email," added"),e.message.color="info",e.message.active=!0,e.users=[],e.getUsers()})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):0!==this.editedUser.email.length&&null!==this.editedUser.field_id&&void 0!==this.editedUser.id?jt.patch("/api/v1/users/".concat(this.editedUser.id),this.editedUser).then((function(t){e.message.text="User ".concat(t.data.id," updated"),e.message.color="info",e.message.active=!0,e.getUsers()})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0})):(this.message.text="Invalid User",this.message.color="error",this.message.active=!0)},removeUser:function(t){jt.delete("/api/v1/users/".concat(t.id)).then(this.search="",this.editingUser=!1,this.users.splice(this.users.indexOf(t),1),this.message.text="User ".concat(t.email," removed"),this.message.color="warning",this.message.active=!0)},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(t){this.itemsPerPage=t},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})},Ze=Qe,tr=Object(f["a"])(Ze,He,Ge,!1,null,"028c5ea2",null),er=tr.exports,rr={name:"AdminInterface",components:{UserExplorer:er,AdminToolbar:Ee},created:function(){this.userRole=localStorage.userRole},data:function(){return{userRole:null}}},sr=rr,ir=Object(f["a"])(sr,Je,ze,!1,null,"d98e70c6",null),ar=ir.exports;s["default"].use(O["a"]);var nr=[{path:"/",name:"Home",component:be},{path:"/admin",name:"Admin Interface",component:Ue},{path:"/signin",name:"Sign In",component:Ke},{path:"/account",name:"Account",component:ar},{path:"/about",name:"About",component:xe},{path:"/*",name:"redirect",component:be}],cr=new O["a"]({routes:nr}),or=cr,lr={namespaced:!0,state:{currentSemesterId:parseInt(localStorage.currentSemesterId,10),currentFieldId:localStorage.currentFieldId,currentYear:localStorage.currentYear,currentSemesterName:"",currentFieldName:"",subjects:[],fields:[],semesters:[],types:[],changingYear:!1,changingField:!1,changingSemester:!1},mutations:{changeSemesterName:function(){var t=lr.state.currentSemesterId-1,e=lr.state.semesters.data[t].semesterYear;t=1===lr.state.semesters.data[t].semesterHalf?"FS ":"HS ",lr.state.currentSemesterName=t+e}},actions:{setCurrentSemester:function(t,e){var r=t.dispatch,s=t.commit;localStorage.currentSemesterId=e,lr.state.currentSemesterId=e,r("getSubjects"),s("changeSemesterName"),lr.state.changingSemester=!1},setCurrentYear:function(t,e){var r=t.dispatch;t.commit;localStorage.currentYear=e,lr.state.currentYear=e,r("getSubjects"),lr.state.changingYear=!1},setCurrentField:function(t,e){var r=t.dispatch;t.commit;localStorage.currentFieldId=e,lr.state.currentFieldId=e,r("getSubjects"),lr.state.currentFieldName=lr.state.fields.data[lr.state.currentFieldId-1].fieldName,lr.state.changingField=!1},getSemesters:function(t){var e=t.commit;lr.state.semesters=[],wt.get("/api/v1/semesters").then((function(t){lr.state.semesters=t,e("changeSemesterName")}))},getFields:function(){lr.state.fields=[],wt.get("/api/v1/fields").then((function(t){lr.state.fields=t,lr.state.currentFieldName=t.data[lr.state.currentFieldId-1].fieldName}))},getTypes:function(){lr.state.types=[],wt.get("/api/v1/types").then((function(t){t.data.forEach((function(t){lr.state.types.push(t.typeName)}))}))},getSubjects:function(){var t=this;lr.state.subjects=[],this.state.loading=!0,this.state.noresult=!1,wt.get("/api/v1/subjects").then((function(e){e.data.forEach((function(t){var e=t.semester_id.toString()===lr.state.currentSemesterId.toString(),r=t.field_id.toString()===lr.state.currentFieldId.toString(),s=t.year.toString()===lr.state.currentYear.toString();e&&r&&s&&lr.state.subjects.push(t)})),t.state.loading=!1,0===lr.state.subjects.length&&(t.state.noresult=!0)}))}}},dr=lr;s["default"].use(l["a"]);var ur=new l["a"].Store({modules:{napolyApiModule:dr},state:{loading:!1,noresult:!1,signedIn:localStorage.signedIn,showToolbar:!0,message:{active:!1,timeout:4e3,text:"Empty",color:"warning"}},mutations:{}}),pr=r("ce5b"),vr=r.n(pr);r("bf40");s["default"].use(vr.a);var fr=new vr.a({theme:{themes:{light:{primary:"#3da4ea",secondary:"#b0bec5",anchor:"#8c9eff"}}}}),hr=r("a7fe"),mr=r.n(hr);s["default"].config.productionTip=!1,s["default"].use(mr.a,{secured:jt,plain:wt}),s["default"].config.productionTip=!1,new s["default"]({router:or,store:ur,securedAxiosInstance:jt,plainAxiosInstance:wt,vuetify:fr,render:function(t){return t(j)}}).$mount("#app")},"85ec":function(t,e,r){}});
//# sourceMappingURL=app.844f19f4.js.map