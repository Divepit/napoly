(function(e){function t(t){for(var r,o,c=t[0],a=t[1],l=t[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=a;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"sandbox"}},[n("GlobalNotification"),n("router-view")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},[n("v-snackbar",{attrs:{top:"",color:e.message.color,timeout:e.message.timeout},model:{value:e.message.active,callback:function(t){e.$set(e.message,"active",t)},expression:"message.active"}},[n("v-spacer"),e._v(" "+e._s(e.message.text)+" "),n("v-spacer")],1)],1)},c=[],a=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),l=n("2f62");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"GlobalNotification",computed:d({},Object(l["d"])(["message"]))},f=p,b=n("2877"),m=Object(b["a"])(f,o,c,!1,null,null,null),v=m.exports,g={components:{GlobalNotification:v},created:function(){this.$vuetify.theme.dark=!1}},h=g,j=Object(b["a"])(h,i,s,!1,null,null,null),O=j.exports,y=n("9483");Object(y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var _=n("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Toolbar"),n("v-content",[n("SubjectCard")],1)],1)},k=[],S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{dark:"",app:"",overflow:"",color:"primary"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(" Napoly.ch ")]),n("v-list-item-subtitle",[e._v(" Student Document Repository ")])],1)],1),e.signedIn?n("v-list-item-group",[n("v-divider"),n("v-list-item",{attrs:{to:"/admin"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-key")])],1),n("v-list-item-title",[e._v("Admin Interface")])],1)],1):e._e(),n("v-divider"),n("YearList"),n("v-divider"),n("FieldList"),n("v-divider"),n("SemesterList"),n("v-divider"),n("SubjectList")],1)],1)},P=[],x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[n("v-subheader",{staticStyle:{cursor:"pointer"},on:{click:e.changeSemester}},[e._v(e._s(e.currentSemesterName?e.currentSemesterName:"Semester wählen")+" "),n("v-spacer"),n("v-icon",{attrs:{small:""},on:{click:e.changeSemester}},[e._v(e._s(e.changingSemester?"mdi-chevron-up":"mdi-chevron-down"))])],1),e.changingSemester?n("v-list-item-group",e._l(e.semesters.data,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.setCurrentSemester(t.id)}}},[e._v(" "+e._s(1===t.semesterHalf?"FS ":"HS ")+e._s(t.semesterYear)+" ")])})),1):e._e()],1)},I=[];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={name:"SemesterList",created:function(){this.getSemesters()},computed:L({},Object(l["d"])("napolyApiModule",["semesters","currentSemesterId","currentSemesterName","changingSemester"])),methods:L({},Object(l["b"])("napolyApiModule",["getSemesters","setCurrentSemester"]),{changeSemester:function(){this.$store.state.napolyApiModule.changingSemester=!this.changingSemester}})},D=C,T=Object(b["a"])(D,x,I,!1,null,"08d370db",null),A=T.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.subjects.length?n("v-list",[n("v-subheader",[e._v("Subjects")]),n("v-list-item-group",e._l(e.subjects,(function(t){return n("v-list-item",{key:t.id,attrs:{href:"#"+t.subjectName}},[e._v(" "+e._s(t.subjectName)+" ")])})),1),n("v-divider")],1):e._e()},U=[];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={name:"SubjectList",created:function(){this.getSubjects()},computed:$({},Object(l["d"])("napolyApiModule",["subjects","currentSubjectId","currentSemesterId"])),methods:$({},Object(l["b"])("napolyApiModule",["getSubjects"]))},N=B,Y=Object(b["a"])(N,F,U,!1,null,"0a20d49c",null),W=Y.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[n("v-subheader",{staticStyle:{cursor:"pointer"},on:{click:e.changeField}},[e._v(e._s(e.currentFieldName?e.currentFieldName:"Departement wählen")+" "),n("v-spacer"),n("v-icon",{attrs:{small:""},on:{click:e.changeField}},[e._v(e._s(e.changingField?"mdi-chevron-up":"mdi-chevron-down"))])],1),e.changingField?n("v-list-item-group",e._l(e.fields.data,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.setCurrentField(t.id)}}},[e._v(e._s(t.fieldName))])})),1):e._e()],1)},V=[];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={name:"FieldList",created:function(){this.getFields()},computed:z({},Object(l["d"])("napolyApiModule",["fields","currentFieldId","currentFieldName","changingField"])),methods:z({},Object(l["b"])("napolyApiModule",["getFields","setCurrentField"]),{changeField:function(){this.$store.state.napolyApiModule.changingField=!this.changingField}})},X=H,q=Object(b["a"])(X,K,V,!1,null,"3fd8bbfc",null),G=q.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",[e.currentYear?n("v-subheader",{staticStyle:{cursor:"pointer"},on:{click:e.changeYear}},[e._v(e._s(e.currentYear)+". Studienjahr "),n("v-spacer"),n("v-icon",{attrs:{small:""}},[e._v(e._s(e.changingYear?"mdi-chevron-up":"mdi-chevron-down"))])],1):n("v-subheader",{staticStyle:{cursor:"pointer"},on:{click:e.changeYear}},[e._v("Studienjahr wählen "),n("v-spacer"),n("v-icon",{attrs:{small:""}},[e._v(e._s(e.changingYear?"mdi-chevron-up":"mdi-chevron-down"))])],1),e.changingYear?n("v-list-item-group",e._l(e.years,(function(t){return n("v-list-item",{key:t.id,on:{click:function(n){return e.setCurrentYear(t)}}},[e._v(e._s(t)+". Studienjahr ")])})),1):e._e()],1)},Q=[];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={name:"YearList",data:function(){return{years:[1,2,3]}},computed:ee({},Object(l["d"])("napolyApiModule",["currentYear","changingYear"])),methods:ee({},Object(l["b"])("napolyApiModule",["setCurrentYear"]),{changeYear:function(){this.$store.state.napolyApiModule.changingYear=!this.changingYear}})},ne=te,re=Object(b["a"])(ne,J,Q,!1,null,"1b1b2f6a",null),ie=re.exports;function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce={name:"Toolbar",components:{YearList:ie,FieldList:G,SubjectList:W,SemesterList:A},data:function(){return{primaryDrawer:{model:!0}}},computed:oe({},Object(l["d"])(["signedIn"]))},ae=ce,le=Object(b["a"])(ae,S,P,!1,null,null,null),ue=le.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[e.currentFieldId&&e.currentSemesterId&&e.currentYear?n("div",[e.noresult?n("v-card",{staticClass:"mt-12 grey--text",attrs:{flat:""}},[n("v-card-title",[n("v-spacer"),e._v(" In diesem Semester existieren noch keine Links! "),n("v-spacer")],1),n("v-card-actions",[n("v-spacer"),n("v-btn",[e._v("Wie kann ich das ändern?")]),n("v-spacer")],1)],1):e._e(),e.loading?n("div",e._l(4,(function(e){return n("v-card",{key:e,staticClass:"my-2"},[n("v-skeleton-loader",{staticClass:"mx-auto my-5",attrs:{"max-width":"300",type:"card"}})],1)})),1):e._l(e.subjects,(function(t){return n("v-container",{key:t.id,staticClass:"pt-8",attrs:{id:t.subjectName}},[n("v-card",[n("v-card-title",{staticClass:"primary--text"},[e._v(" "+e._s(t.subjectName)+" "),e.signedIn&&e.editMode!==t.id?n("v-btn",{staticClass:"ml-4",attrs:{tile:"",outlined:"",color:"info"},on:{click:function(n){e.editMode=t.id}}},[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-pencil")]),e._v(" Edit")],1):e._e(),e.signedIn&&e.editMode===t.id?n("v-btn",{staticClass:"ml-4",attrs:{tile:"",outlined:"",color:"error"},on:{click:function(t){e.editMode=null}}},[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-cancel")]),e._v(" Stop Editing")],1):e._e(),n("v-spacer"),n("SubjectButtons",{attrs:{subject:t,editMode:e.editMode}})],1),n("v-container",{attrs:{fluid:""}},[n("LinkTable",{attrs:{subject:t,editMode:e.editMode}})],1),n("SubjectInfos",{attrs:{subject:t,editMode:e.editMode}})],1)],1)}))],2):n("div",[n("v-card",{staticClass:"mt-12 grey--text"},[n("v-card-title",[n("v-spacer"),e._v(" Bitte wähle dein Semester "),n("v-spacer")],1),n("year-list"),n("field-list"),n("semester-list")],1)],1)])},pe=[],fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-card",{staticClass:"ma-0 mb-6",attrs:{flat:"",outlined:""}},[n("v-simple-table",{attrs:{"fixed-header":""}},[n("thead",[n("tr",[n("th",[e._v("Week")]),e._l(e.typeIds,(function(t){return n("th",{key:t},[e._v(e._s(e.types[t-1]))])})),e.editMode===e.subject.id?n("th",[n("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:function(t){e.addingType=!0}}},[e._v("+")])],1):e._e()],2)]),n("tbody",[e._l(e.subjectWeeks,(function(t){return n("tr",{key:t},[n("td",[e._v(e._s(t))]),e._l(e.typeIds,(function(r){return n("td",{key:r,staticStyle:{cursor:"pointer"}},[e.typeWeekCombos.includes(r+"/"+t)&&e.editMode!==e.subject.id?n("a",{staticClass:"primary--text",staticStyle:{"text-decoration":"none"},attrs:{href:e.findLinkFromTypeAndWeek(r,t).linkUrl,target:"_blank"}},[e._v(e._s(e.types[r-1]+" "+t))]):n("span"),e.editMode===e.subject.id?n("v-btn",{attrs:{outlined:"",tile:"",small:"",color:"primary"},on:{click:function(n){return e.editLink(r,t)}}},[e._v(" "+e._s(e.typeWeekCombos.includes(r+"/"+t)?e.types[r-1]+" "+t:"+")+" ")]):n("span")],1)})),e.editMode===e.subject.id?n("td"):e._e()],2)})),e.editMode===e.subject.id?n("tr",[n("td",{staticClass:"pl-1"},[n("v-btn",{staticClass:"pa-0 ma-0",attrs:{text:"","x-small":"",color:"primary"},on:{click:function(t){return e.subjectWeeks.push(e.subjectWeeks.length)}}},[e._v("+ ")])],1)]):e._e()],2)])],1),n("ObjectEditor",{attrs:{objectToEdit:e.editedLink,"forbidden-attributes":e.forbiddenAttributes,active:e.editingLink},on:{updateObject:function(t){return e.updateLink(t)},cancel:function(t){e.editingLink=!1},delete:function(t){return e.removeLink(e.editedLink)}}}),n("ArraySelector",{attrs:{arrayToSelectFrom:e.types,active:e.addingType},on:{returnSelection:function(t){return e.addType(t)},cancel:function(t){e.addingType=!1}}})],1)},be=[],me=(n("99af"),n("7db0"),n("caad"),n("c975"),n("a434"),n("2532"),n("d3b7"),n("ac1f"),n("5319"),n("bc3a")),ve=n.n(me);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je="https://staging.api.napoly.ch";je="https://staging.api.napoly.ch";var Oe=ve.a.create({baseURL:je,withCredentials:!0,headers:{"Content-Type":"application/json"}}),ye=ve.a.create({baseURL:je,withCredentials:!0,headers:{"Content-Type":"application/json"}});Oe.interceptors.request.use((function(e){var t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers=he({},e.headers,{"X-CSRF-TOKEN":localStorage.csrf})),e})),Oe.interceptors.response.use(null,(function(e){return e.response&&e.response.config&&401===e.response.status?ye.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((function(t){localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;var n=e.response.config;return n.headers["X-CSRF-TOKEN"]=localStorage.csrf,ye.request(n)})).catch((function(e){return delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)})):Promise.reject(e)}));var _e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v(" Edit Object ")]),n("v-container",e._l(e.objectKeys.length,(function(t){return n("v-row",{key:t.id},[e.forbiddenAttributes.includes(e.objectKeys[t-1])?e._e():n("v-col",[e.objectValues[t-1].length<20&&!e.exceptionalAttributes.includes(e.objectKeys[t-1])?n("v-text-field",{staticClass:"mb-0",attrs:{flat:"",outlined:"",label:e.objectKeys[t-1],type:typeof e.objectValues[t-1]},model:{value:e.objectValues[t-1],callback:function(n){e.$set(e.objectValues,t-1,n)},expression:"objectValues[attribute-1]"}}):e._e(),"field_id"===e.objectKeys[t-1]?n("v-select",{attrs:{label:"Field",items:e.fields.data,"item-text":"fieldName","item-value":"id"},model:{value:e.objectValues[t-1],callback:function(n){e.$set(e.objectValues,t-1,n)},expression:"objectValues[attribute-1]"}}):e._e(),e.objectValues[t-1].length<20||e.exceptionalAttributes.includes(e.objectKeys[t-1])?e._e():n("div",[e.objectKeys[t-1].includes("info")?n("div",[n("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",tile:""},on:{click:function(n){e.objectValues[t-1]+=" [Link Title](URL)",e.active=!1,e.active=!0}}},[n("v-icon",[e._v("mdi-link-variant-plus")])],1)],1):e._e(),n("v-textarea",{staticClass:"mb-0 mt-2",attrs:{flat:"",outlined:"",label:e.objectKeys[t-1],type:typeof e.objectValues[t-1]},model:{value:e.objectValues[t-1],callback:function(n){e.$set(e.objectValues,t-1,n)},expression:"objectValues[attribute-1]"}})],1)],1)],1)})),1),n("v-card-actions",[n("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.$emit("delete")}}},[e._v(" Delete ")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("updateObject",{objectKeys:e.objectKeys,objectValues:e.objectValues})}}},[e._v(" Send ")])],1)],1)],1)},we=[];n("07ac");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe={name:"ObjectEditor",watch:{objectToEdit:function(){this.active&&this.initializeObject()}},data:function(){return{objectKeys:[],objectValues:[],exceptionalAttributes:["field_id"],newField:null}},props:{objectToEdit:{},active:null,forbiddenAttributes:null},computed:Se({},Object(l["d"])("napolyApiModule",["fields"])),methods:{initializeObject:function(){this.objectKeys=Object.keys(this.objectToEdit),this.objectValues=Object.values(this.objectToEdit)}}},xe=Pe,Ie=Object(b["a"])(xe,_e,we,!1,null,null,null),Ee=Ie.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"600",persistent:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("v-card",{staticClass:"pa-3"},[n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{attrs:{items:e.searchedArray,"single-select":"","items-per-page":e.itemsPerPage,page:e.page,"hide-default-footer":""},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[n("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[n("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-file-document-box-search-outline",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"default",fn:function(t){return[n("v-list-item-group",[n("v-list",e._l(t.items,(function(t){return n("v-list-item",{key:t,attrs:{color:t===e.elementToReturn?"success":""},on:{click:function(n){e.elementToReturn=t}}},[n("span",[e._v(e._s(t))])])})),1)],1)]}}])})],1),n("v-card-actions",[n("span",{staticClass:"mr-4 grey--text"},[e._v("Page "+e._s(e.page)+" of "+e._s(e.numberOfPages))]),n("v-btn",{staticClass:"mr-1",attrs:{dark:"",color:"blue darken-3","x-small":""},on:{click:e.formerPage}},[n("v-icon",[e._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"ml-1",attrs:{"x-small":"",dark:"",color:"blue darken-3"},on:{click:e.nextPage}},[n("v-icon",[e._v("mdi-chevron-right")])],1),n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v(" Cancel ")]),e.elementToReturn?n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("returnSelection",e.elementToReturn)}}},[e._v(" Select ")]):e._e()],1)],1)],1)},Ce=[],De=(n("fb6a"),n("841c"),{name:"ArraySelector",data:function(){return{elementToReturn:null,itemsPerPageArray:[4,8,12],search:"",filter:{},sortDesc:!1,page:1,itemsPerPage:4}},props:{arrayToSelectFrom:null,active:null},computed:{numberOfPages:function(){return Math.ceil(this.searchedArray.length/this.itemsPerPage)},searchedArray:function(){var e=this;return 0!==this.search.length&&null!==this.search.length?this.arrayToSelectFrom.filter((function(t){return t.includes(e.search)||t.includes(e.capitalize(e.search))})):this.arrayToSelectFrom}},methods:{nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}}),Te=De,Ae=Object(b["a"])(Te,Le,Ce,!1,null,null,null),Fe=Ae.exports;function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e={name:"LinkTable",components:{ArraySelector:Fe,ObjectEditor:Ee},data:function(){return{subjectWeeks:[],typeIds:[],subjectLinks:[],typeWeekCombos:[],editingLink:!1,editedLink:{},addingType:!1,newLink:{},forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","subject_id","type_id"]}},created:function(){this.getSubjectLinks()},computed:Me({},Object(l["d"])("napolyApiModule",["types","subjects"]),{},Object(l["d"])(["signedIn","message"])),props:{subject:null,editMode:null},methods:Me({},Object(l["c"])(["setMessage"]),{getSubjectLinks:function(){var e=this;ye.get("/api/v1/links?subject_id=".concat(this.subject.id)).then((function(t){e.subjectLinks=t.data,t.data.forEach((function(t){e.typeIds.includes(t.type_id)||e.typeIds.push(t.type_id);while(!e.subjectWeeks.includes(t.linkWeek))e.subjectWeeks.push(t.linkWeek);e.typeWeekCombos.push("".concat(t.type_id,"/").concat(t.linkWeek))})),e.subjectWeeks.sort()}))},findLinkFromTypeAndWeek:function(e,t){return this.subjectLinks.find((function(n){return n.type_id===e&&n.linkWeek===t}))},editLink:function(e,t){if(this.editedLink=this.findLinkFromTypeAndWeek(e,t),this.editingLink=!0,this.editMode===this.subject.id&&void 0===this.editedLink){var n={linkWeek:t,type_id:e,linkUrl:"",subject_id:this.subject.id};this.editedLink=n,this.editingLink=!0}},updateLink:function(e){var t=this;for(var n in this.editingLink=!1,e.objectKeys)this.newLink[e.objectKeys[n]]=e.objectValues[n];0!==this.newLink.linkUrl.length&&void 0===this.newLink.id?(this.newLink.creator="not defined",this.newLink.editor="not defined",Oe.post("/api/v1/links",this.newLink).then((function(e){t.message.text="Link ".concat(e.data.id," added"),t.message.color="info",t.message.active=!0,t.subjectLinks.push(e.data),t.typeWeekCombos.push("".concat(e.data.type_id,"/").concat(e.data.linkWeek))}))):0!==this.newLink.linkUrl.length&&void 0!==this.newLink.id?Oe.patch("/api/v1/links/".concat(this.newLink.id),this.newLink).then((function(e){t.message.text="Link ".concat(e.data.id," updated"),t.message.color="info",t.message.active=!0})):(this.message.text="Invalid link",this.message.color="error",this.message.active=!0)},removeLink:function(e){Oe.delete("/api/v1/links/".concat(e.id)).then(this.editingLink=!1,this.typeWeekCombos.splice(this.typeWeekCombos.indexOf("".concat(e.type_id,"/").concat(e.linkWeek)),1),this.message.text="Link ".concat(e.id," removed"),this.message.color="warning",this.message.active=!0)},addType:function(e){this.addingType=!1,console.log(this.types.indexOf(e)),this.typeIds.push(this.types.indexOf(e)+1)}})},Be=$e,Ne=Object(b["a"])(Be,fe,be,!1,null,null,null),Ye=Ne.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.editMode!==e.subject.id?n("div",e._l(e.buttons,(function(t){return n("v-btn",{key:t.id,staticClass:"mx-2",attrs:{color:"primary",href:t.buttonUrl,target:"_blank"}},[e._v(" "+e._s(t.buttonLabel)+" ")])})),1):n("div",[e._l(e.buttons,(function(t){return n("v-btn",{key:t.id,staticClass:"mx-2",attrs:{target:"_blank",outlined:"",color:"info",tile:""},on:{click:function(n){return e.editButton(t)}}},[e._v(e._s(t.buttonLabel)+" ")])})),n("v-btn",{attrs:{outlined:"",color:"info",tile:""},on:{click:function(t){return e.editButton({buttonUrl:"",buttonLabel:"",subject_id:e.subject.id})}}},[e._v(" + ")])],2),n("ObjectEditor",{attrs:{objectToEdit:e.newButton,"forbidden-attributes":e.forbiddenAttributes,active:e.editingButton},on:{updateObject:function(t){return e.updateButton(t)},cancel:function(t){e.editingButton=!1},delete:function(t){return e.removeButton(e.newButton)}}})],1)},Ke=[];function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze={name:"SubjectButtons",components:{ObjectEditor:Ee},data:function(){return{buttons:[],editingButton:!1,newButton:{},forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","subject_id","type_id"]}},created:function(){this.getButtons()},props:{subject:null,editMode:null},computed:Re({},Object(l["d"])(["message"])),methods:{getButtons:function(){var e=this;ye.get("/api/v1/buttons?subject_id=".concat(this.subject.id)).then((function(t){e.buttons=t.data}))},editButton:function(e){this.editMode===this.subject.id&&(this.editingButton=!0,this.newButton=e)},updateButton:function(e){var t=this;for(var n in this.editingButton=!1,e.objectKeys)this.newButton[e.objectKeys[n]]=e.objectValues[n];console.log(this.newButton),0!==this.newButton.buttonUrl.length&&0!==this.newButton.buttonLabel.length&&void 0===this.newButton.id?Oe.post("/api/v1/buttons",this.newButton).then((function(e){t.message.text="Button ".concat(e.data.id," added"),t.message.color="info",t.message.active=!0,t.buttons.push(e.data)})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):0!==this.newButton.buttonUrl.length&&0!==this.newButton.buttonLabel.length&&void 0!==this.newButton.id?Oe.patch("/api/v1/buttons/".concat(this.newButton.id),this.newButton).then((function(e){t.message.text="Button ".concat(e.data.id," updated"),t.message.color="info",t.message.active=!0})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):(this.message.text="Invalid Button",this.message.color="error",this.message.active=!0)},removeButton:function(e){Oe.delete("/api/v1/buttons/".concat(e.id)).then(this.editingButton=!1,this.buttons.splice(this.buttons.indexOf(e),1),this.message.text="Button ".concat(e.id," removed"),this.message.color="warning",this.message.active=!0)}}},He=ze,Xe=Object(b["a"])(He,We,Ke,!1,null,null,null),qe=Xe.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[e._l(e.infos,(function(t){return n("v-card",{key:t.id,staticClass:"mx-4 my-2",attrs:{outlined:""}},[n("v-card-title",[e._v(e._s(t.infoTitle)+" "),n("v-spacer"),e.editMode===e.subject.id?n("v-icon",{on:{click:function(n){return e.editInfo(t)}}},[e._v("mdi-pencil")]):e._e()],1),n("v-card-text",[n("vue-markdown",[e._v(e._s(t.infoText))])],1)],1)})),e.editMode===e.subject.id?n("v-card",{staticClass:"mx-4 my-2 text-center",staticStyle:{cursor:"pointer"},attrs:{outlined:""},on:{click:function(t){return e.editInfo({infoTitle:"",infoText:"",subject_id:e.subject.id})}}},[n("v-card-text",[n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-plus")])],1)],1):e._e(),n("ObjectEditor",{attrs:{objectToEdit:e.editedInfo,active:e.editingInfo,"forbidden-attributes":e.forbiddenAttributes},on:{updateObject:function(t){return e.updateInfo(t)},cancel:function(t){e.editingInfo=!1},delete:function(t){return e.removeInfo(e.editedInfo)}}})],2)},Je=[],Qe=n("9ce6"),Ze=n.n(Qe);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt={name:"SubjectInfos",components:{ObjectEditor:Ee,VueMarkdown:Ze.a},data:function(){return{infos:[],editingInfo:!1,editedInfo:{},newInfo:{},forbiddenAttributes:["id","created_at","updated_at","creator","editor","linkWeek","subject_id","type_id"]}},created:function(){this.getInfos()},props:{subject:null,editMode:null},computed:tt({},Object(l["d"])(["message"])),methods:{getInfos:function(){var e=this;this.infos=[],ye.get("/api/v1/infos?subject_id=".concat(this.subject.id)).then((function(t){e.infos=t.data}))},editInfo:function(e){this.editMode===this.subject.id&&(this.editingInfo=!0,this.editedInfo=e)},updateInfo:function(e){var t=this;for(var n in this.editingInfo=!1,e.objectKeys)this.newInfo[e.objectKeys[n]]=e.objectValues[n];0!==this.newInfo.infoTitle.length&&0!==this.newInfo.infoText.length&&void 0===this.newInfo.id?Oe.post("/api/v1/infos",this.newInfo).then((function(e){t.message.text="Info ".concat(e.data.id," added"),t.message.color="info",t.message.active=!0})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):0!==this.newInfo.infoTitle.length&&0!==this.newInfo.infoText.length&&void 0!==this.newInfo.id?Oe.patch("/api/v1/infos/".concat(this.newInfo.id),this.newInfo).then((function(e){t.message.text="Info ".concat(e.data.id," updated"),t.message.color="info",t.message.active=!0,t.getInfos()})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):(this.message.text="Invalid Info",this.message.color="error",this.message.active=!0)},removeInfo:function(e){Oe.delete("/api/v1/infos/".concat(e.id)).then(this.editingInfo=!1,this.infos.splice(this.infos.indexOf(e),1),this.message.text="Info ".concat(e.id," removed"),this.message.color="warning",this.message.active=!0)}}},rt=nt,it=Object(b["a"])(rt,Ge,Je,!1,null,null,null),st=it.exports;function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at={name:"SubjectCard",data:function(){return{editMode:null,firstTimeUse:!1}},components:{SemesterList:A,YearList:ie,FieldList:G,SubjectInfos:st,SubjectButtons:qe,LinkTable:Ye},props:{subjectId:null},computed:ct({},Object(l["d"])("napolyApiModule",["subjects","currentFieldId","currentSemesterId","currentYear"]),{},Object(l["d"])(["loading","noresult","signedIn"]))},lt=at,ut=Object(b["a"])(lt,de,pe,!1,null,null,null),dt=ut.exports;function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt={name:"home",created:function(){this.getTypes()},components:{SubjectCard:dt,Toolbar:ue},methods:ft({},Object(l["b"])("napolyApiModule",["getTypes"]))},mt=bt,vt=Object(b["a"])(mt,w,k,!1,null,null,null),gt=vt.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AdminToolbar"),n("v-content")],1)},jt=[],Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{attrs:{app:"",overflow:"",permanent:""}},[n("v-list",[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(" Napoly.ch ")]),n("v-list-item-subtitle",[e._v(" Student Document Repository ")])],1)],1),n("v-divider"),n("v-list-item-group",[n("v-list-item",{attrs:{to:"/"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-home")])],1),n("v-list-item-title",[e._v("Homepage")])],1),n("v-divider"),n("v-list-item",{attrs:{to:"/account"}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-account")])],1),n("v-list-item-title",[e._v("Account Management")])],1),n("v-divider"),n("v-list-item",{on:{click:function(t){return e.signOut()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-logout")])],1),n("v-list-item-title",[e._v("Log Out")])],1),n("v-divider")],1)],1)],1)],1)},yt=[],_t=n("e8f4"),wt=n.n(_t);function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt="http://localhost:3000";Pt="https://api.napoly.ch";var xt=wt.a.create({baseURL:Pt,withCredentials:!0,headers:{"Content-Type":"application/json"}}),It=wt.a.create({baseURL:Pt,withCredentials:!0,headers:{"Content-Type":"application/json"}});xt.interceptors.request.use((function(e){var t=e.method.toUpperCase();return"OPTIONS"!==t&&"GET"!==t&&(e.headers=St({},e.headers,{"X-CSRF-TOKEN":localStorage.csrf})),e})),xt.interceptors.response.use(null,(function(e){return e.response&&e.response.config&&401===e.response.status?It.post("/refresh",{},{headers:{"X-CSRF-TOKEN":localStorage.csrf}}).then((function(t){localStorage.csrf=t.data.csrf,localStorage.signedIn=!0;var n=e.response.config;return n.headers["X-CSRF-TOKEN"]=localStorage.csrf,It.request(n)})).catch((function(e){return delete localStorage.csrf,delete localStorage.signedIn,location.replace("/"),Promise.reject(e)})):Promise.reject(e)}));var Et={name:"AdminToolbar",created:function(){"true"!==localStorage.signedIn&&this.$router.replace("/")},methods:{signOut:function(){var e=this;this.$store.signedIn=!1,xt.delete("/signin").then((function(t){delete localStorage.csrf,delete localStorage.signedIn,e.$store.state.signedIn=!1,e.$router.replace("/")}))}}},Lt=Et,Ct=Object(b["a"])(Lt,Ot,yt,!1,null,null,null),Dt=Ct.exports,Tt={name:"AdminInterface",components:{AdminToolbar:Dt}},At=Tt,Ft=Object(b["a"])(At,ht,jt,!1,null,"71517dab",null),Ut=Ft.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-content",{attrs:{fluid:""}},[n("v-container",{staticClass:"fill-height"},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",flat:""}},[n("v-toolbar-title",[e._v("Login form")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-face",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:e.signin}},[e._v("Login")])],1)],1)],1)],1)],1)],1)},$t=[];function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt={name:"Signin",data:function(){return{email:"",password:""}},computed:Nt({},Object(l["d"])(["message"])),created:function(){localStorage.signedIn&&(this.message.text="Already Signed in",this.message.color="warning",this.message.active=!0,this.$router.replace("/admin"))},methods:{signin:function(){var e=this;if(!this.email||!this.password)return this.message.text="Invalid e-mail or password",this.message.color="error",void(this.message.active=!0);ye.post("/signin",{email:this.email,password:this.password}).then((function(t){t.data.csrf&&(localStorage.csrf=t.data.csrf,e.message.text="Signin Successful",e.message.color="success",e.message.active=!0,localStorage.signedIn=!0,e.$store.state.signedIn=!0,e.$router.replace("/admin"))})).catch((function(t){e.message.text=t,e.message.color="error",e.message.active=!0}))}}},Wt=Yt,Kt=Object(b["a"])(Wt,Mt,$t,!1,null,"f8d79648",null),Vt=Kt.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AdminToolbar"),n("v-content",[n("UserExplorer")],1)],1)},zt=[],Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:""}},[n("v-data-iterator",{attrs:{items:e.searchedArray,"single-select":"","items-per-page":5,page:e.page},scopedSlots:e._u([{key:"header",fn:function(){return[n("v-toolbar",{attrs:{flat:""}},[n("v-text-field",{attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-file-document-box-search-outline",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-btn",{staticClass:"ml-4",attrs:{text:"",outlined:""},on:{click:function(t){return e.editUser({email:"",field_id:1,role:1,password:"",password_confirmation:""})}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-account-plus")]),e._v(" Add User ")],1)],1)]},proxy:!0},{key:"default",fn:function(t){return[n("v-list",[n("v-list-item-group",{model:{value:t.items,callback:function(n){e.$set(t,"items",n)},expression:"props.items"}},e._l(t.items,(function(t){return n("div",{key:t.id},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.email))]),n("v-list-item-subtitle",[e._v("Role: "+e._s(t.role)+" "),n("v-spacer"),e._v(" Field: "+e._s(t.field_id)+" ")],1)],1),n("v-list-item-action",[n("v-icon",{on:{click:function(n){return e.editUser(t)}}},[e._v("mdi-account-edit")])],1)],1),n("v-divider")],1)})),0)],1)]}}])}),n("ObjectEditor",{attrs:{"object-to-edit":e.editedUser,"forbidden-attributes":e.forbiddenAttributes,active:e.editingUser},on:{cancel:function(t){e.editingUser=!1},updateObject:function(t){return e.updateUser(t)},delete:function(t){return e.removeUser(e.editedUser)}}})],1)},Xt=[];function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jt={name:"UserExplorer",components:{ObjectEditor:Ee},data:function(){return{users:[],editedUser:{},editingUser:!1,search:"",page:1,itemsPerPage:4,forbiddenAttributes:["password_digest","created_at","updated_at","id"]}},created:function(){this.getUsers(),this.getFields()},computed:Gt({},Object(l["d"])(["message"]),{numberOfPages:function(){return Math.ceil(this.searchedArray.length/this.itemsPerPage)},searchedArray:function(){var e=this;return 0!==this.search.length&&null!==this.search.length?this.users.filter((function(t){return t.email.includes(e.search)||t.email.includes(e.capitalize(e.search))})):this.users}}),methods:Gt({},Object(l["b"])("napolyApiModule",["getFields"]),{getUsers:function(){var e=this;Oe.get("/api/v1/users").then((function(t){e.users=t.data}))},editUser:function(e){this.editingUser=!0,this.editedUser=e},updateUser:function(e){var t=this;for(var n in this.editingUser=!1,e.objectKeys)this.editedUser[e.objectKeys[n]]=e.objectValues[n];0!==this.editedUser.email.length&&null!==this.editedUser.field_id&&void 0===this.editedUser.id?Oe.post("/signup",this.editedUser).then((function(e){t.message.text="User ".concat(t.editedUser.email," added"),t.message.color="info",t.message.active=!0,t.users=[],t.getUsers()})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):0!==this.editedUser.email.length&&null!==this.editedUser.field_id&&void 0!==this.editedUser.id?Oe.patch("/api/v1/users/".concat(this.editedUser.id),this.editedUser).then((function(e){t.message.text="User ".concat(e.data.id," updated"),t.message.color="info",t.message.active=!0,t.getUsers()})).catch((function(e){t.message.text=e,t.message.color="error",t.message.active=!0})):(this.message.text="Invalid User",this.message.color="error",this.message.active=!0)},removeUser:function(e){Oe.delete("/api/v1/users/".concat(e.id)).then(this.search="",this.editingUser=!1,this.users.splice(this.users.indexOf(e),1),this.message.text="User ".concat(e.email," removed"),this.message.color="warning",this.message.active=!0)},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}})},Qt=Jt,Zt=Object(b["a"])(Qt,Ht,Xt,!1,null,"2ac331f9",null),en=Zt.exports,tn={name:"AdminInterface",components:{UserExplorer:en,AdminToolbar:Dt}},nn=tn,rn=Object(b["a"])(nn,Rt,zt,!1,null,"d7f449c8",null),sn=rn.exports;r["default"].use(_["a"]);var on=[{path:"/",name:"Home",component:gt},{path:"/admin",name:"Admin Interface",component:Ut},{path:"/signin",name:"Sign In",component:Vt},{path:"/account",name:"Account",component:sn}],cn=new _["a"]({routes:on}),an=cn,ln=(n("25f0"),{namespaced:!0,state:{currentSemesterId:parseInt(localStorage.currentSemesterId,10),currentFieldId:localStorage.currentFieldId,currentYear:localStorage.currentYear,currentSemesterName:"",currentFieldName:"",subjects:[],fields:[],semesters:[],types:[],changingYear:!1,changingField:!1,changingSemester:!1},mutations:{changeSemesterName:function(){var e=ln.state.currentSemesterId-1,t=ln.state.semesters.data[e].semesterYear;e=1===ln.state.semesters.data[e].semesterHalf?"FS ":"HS ",ln.state.currentSemesterName=e+t}},actions:{setCurrentSemester:function(e,t){var n=e.dispatch,r=e.commit;localStorage.currentSemesterId=t,ln.state.currentSemesterId=t,n("getSubjects"),r("changeSemesterName"),ln.state.changingSemester=!1},setCurrentYear:function(e,t){var n=e.dispatch;e.commit;localStorage.currentYear=t,ln.state.currentYear=t,n("getSubjects"),ln.state.changingYear=!1},setCurrentField:function(e,t){var n=e.dispatch;e.commit;localStorage.currentFieldId=t,ln.state.currentFieldId=t,n("getSubjects"),ln.state.currentFieldName=ln.state.fields.data[ln.state.currentFieldId-1].fieldName,ln.state.changingField=!1},getSemesters:function(e){var t=e.commit;ln.state.semesters=[],ye.get("/api/v1/semesters").then((function(e){ln.state.semesters=e,t("changeSemesterName")}))},getFields:function(){ln.state.fields=[],ye.get("/api/v1/fields").then((function(e){ln.state.fields=e,ln.state.currentFieldName=e.data[ln.state.currentFieldId-1].fieldName}))},getTypes:function(){ln.state.types=[],ye.get("/api/v1/types").then((function(e){e.data.forEach((function(e){ln.state.types.push(e.typeName)}))}))},getSubjects:function(){var e=this;ln.state.subjects=[],this.state.loading=!0,this.state.noresult=!1,ye.get("/api/v1/subjects").then((function(t){t.data.forEach((function(e){var t=e.semester_id.toString()===ln.state.currentSemesterId.toString(),n=e.field_id.toString()===ln.state.currentFieldId.toString(),r=e.year.toString()===ln.state.currentYear.toString();t&&n&&r&&ln.state.subjects.push(e)})),e.state.loading=!1,0===ln.state.subjects.length&&(e.state.noresult=!0)}))}}}),un=ln;r["default"].use(l["a"]);var dn=new l["a"].Store({modules:{napolyApiModule:un},state:{loading:!1,noresult:!1,signedIn:localStorage.signedIn,message:{active:!1,timeout:4e3,text:"Empty",color:"warning"}},mutations:{messageSetter:function(e){this.state.message.active=e},setMessage:function(e,t){this.state.message.text=e,this.state.message.color=t,this.state.message.active=!0}}}),pn=n("ce5b"),fn=n.n(pn);n("bf40");r["default"].use(fn.a);var bn=new fn.a({theme:{themes:{light:{primary:"#3da4ea",secondary:"#b0bec5",anchor:"#8c9eff"}}}}),mn=n("a7fe"),vn=n.n(mn);r["default"].config.productionTip=!1,r["default"].use(vn.a,{secured:Oe,plain:ye}),r["default"].config.productionTip=!1,new r["default"]({router:an,store:dn,securedAxiosInstance:Oe,plainAxiosInstance:ye,vuetify:bn,render:function(e){return e(O)}}).$mount("#app")}});
//# sourceMappingURL=app.51162732.js.map